<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- DW6 -->
<head>
<!-- Copyright 2005 Macromedia, Inc. All rights reserved. -->
<title>GeFREALIGN</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="../home/main.css" type="text/css" />
<script language="JavaScript" type="text/javascript">
//--------------- LOCALIZEABLE GLOBALS ---------------
var d=new Date();
var monthname=new Array("January","February","March","April","May","June","July","August","September","October","November","December");
//Ensure correct for language. English is "January 1, 2004"
var TODAY = monthname[d.getMonth()] + " " + d.getDate() + ", " + d.getFullYear();
//---------------   END LOCALIZEABLE   ---------------
</script>
<style type="text/css">
<!--
.style1 {color: #000000}
-->
</style>
</head>


<body bgcolor="#F4FFE4">
<style type="text/css" title="text/css">
/* <![CDATA[ */
#header{
	width: auto;
	margin-left: auto;
	margin-right: auto;
	background-color: #aaaa99;
}	
#header img{
	border: none;
}

/* ]]> */
</style>  

<!--<title>UCSF Banner Graphic</title> -->  
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta http-equiv="description" content="Web banner for the University of California, San Francisco" />
<meta http-equiv="keywords" content="University of California, San Francisco" />

	<map name="ucsf" id="ucsf">
        <area shape="rect" coords="37,1,87,29" href="http://www.ucsf.edu/" target="_blank" alt="UCSF home page" />
		<area shape="rect" coords="91,9,290,22" href="http://www.ucsf.edu/" target="_blank" alt="UCSF home page" />
		<area shape="rect" coords="305,9,371,22" href="http://www.ucsf.edu/about_ucsf/" target="_blank" alt="About UCSF" />
        <area shape="rect" coords="387,8,423,21" href="http://www.msg.ucsf.edu/" target="_blank" alt="msg"  />
        <area shape="rect" coords="449,9,590,23" href="http://biochemistry.ucsf.edu/" target="_blank" alt="biochemistry" />
 
    </map>
<div id="header"><img src="../img/bannerwgray1.gif" alt="UCSF navigation bar" width="625" height="30" border="0" usemap="#ucsf" /></div>
<body bgcolor="#F4FFE4">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr bgcolor="#D5EDB3">
    <td colspan="2" rowspan="2"><img src="../img/zhu2.jpg" alt="Header image" width="382" height="101" border="0" /></td>
    <td width="479" height="50" id="logo" valign="bottom" align="center" nowrap="nowrap">Yifan Cheng Lab</td>
    <td width="112">&nbsp;</td>
  </tr>

  <tr bgcolor="#D5EDB3">
    <td height="51" id="tagline" valign="top" align="center">Molecular Electron Microscopy</td>
	<td width="112">&nbsp;</td>
  </tr>

  <tr>
    <td colspan="4" bgcolor="#5C743D"><img src="../img/spacer.gif" alt="" width="1" height="1" border="0" /></td>
  </tr>
  
  <tr>
    <td colspan="4" bgcolor="#99CC66" background="../img/dashed_line.gif"><img src="../img/dashed_line.gif" alt="line decor" width="4" height="3" border="0" /></td>
  </tr>

  <tr bgcolor="#99CC66">
  <td>&nbsp;</td>
  	<td colspan="3" id="dateformat" height="20"><a href="../index.html">HOME&nbsp;</a>&nbsp;::&nbsp;&nbsp;
    <script language="JavaScript" type="text/javascript">
      document.write(TODAY);	</script>	</td>
  </tr>

  <tr>
    <td colspan="4" bgcolor="#99CC66" background="../img/dashed_line.gif"><img src="../img/dashed_line.gif" alt="line decor" width="4" height="3" border="0" /></td>
  </tr>

  <tr>
    <td colspan="4" bgcolor="#5C743D"><img src="../img/spacer.gif" alt="" width="1" height="1" border="0" /></td>
  </tr>
 <tr>
    <td width="52">&nbsp;</td>
    <td colspan="2" valign="top">&nbsp;<br />
    &nbsp;<br />
   <table border="0" cellspacing="0" cellpadding="2" width="504">
        <tr>
          <td class="pageName"> GPU-enabled FREALIGN</td>
        </tr>
        <tr>
          <td class="bodyText"><p class="style1"> FREALIGN is a program developed by Niko Grigorieff laboratory for high-resolution refinement of 3D reconstruction from cryoEM of single particles. We have modified the original FREALIGN (version v8.06) to run on GPU processors so that the refinement process of single particle 3D reconstruction can be speedup. All the algorithms from the original FREALIGN are kept unchanged. For detailed description of original FREALIGN, please refer to the <a href="http://emlab.rose2.brandeis.edu/frealign" target="_blank">FREALIGN</a> website.


</p>
            <p class="style1">The current GPU-enabled FREALIGN was written by Xueming Li at Yifan Cheng laboratory, UCSF. Same as the original FRELIGN, the GPU-enabled FREALIGN is available for download and licensed under the terms of the GNU Public License version 3 (GPLv3). </p>
            <p><strong><a href="GeFREALIGNv8.06.tar.gz">GeFREALIGNv8.06.tar.gz</a></strong></p>
            <p>&nbsp;</p>
            <p class="style1"><strong>Features:</strong></p>
            <p class="style1"> 1) GPU enabled. All functions of the FREALIGN are now carried out on NVIDIA GPUs.</p>
            <p class="style1">2) Multithread embedded. The number of available GPU is detected automatically, and then corresponding CPU threads will be created to use all the available GPUs.            </p>
            <p class="style1"><strong>System requirements:</strong></p>
            <p class="style1"> 1) At least two NVIDIA GPUs (required by the reconstruction). NVIDIA GeForce GTX295 or better is recommended.            </p>
            <p class="style1">2) Linux operating system.</p>
            <p class="style1"> 3) CUDA driver v190.* or newer, CUDA toolkit v2.3 or newer. For CUDA installation package and documents, please visit NVIDIA CUDA website: 		http://www.nvidia.com/cuda            </p>
            <p class="style1"><strong>Compile:</strong> </p>
            <p class="style1">1) Uncompress the GeFREALIGNv8.tar package.            </p>
            <p class="style1">2) Make sure that g77, CUDA toolkit and gcc have been installed. The current CUDA toolkit v2.3 doesn't support gcc 4.4 or newer version. If your gcc version is higher than 4.3, you need to install a lower version (gcc 3.4 is recommended), and specify the gcc path by adding the nvcc compiling option into "Makefile" in both src_ref and src_rec folders: 
            "--compiler-bindir gccpath/bin " .</p>
            <p class="style1"> 3) run "make" in both src_ref and src_rec folders, respectively. The binary executable files will be output to ../bin/.            </p>
            <p class="style1"><strong>Notes:</strong> </p>
            <p class="style1">1) It is strongly recommended that the graphic card used GPU computing by FREALIGN does not connect to any monitor. CUDA has a 5 sec executing time limit and the GPU connected to a monitor may be unstable.            </p>
            <p class="style1">2) The box size of particle images should be smaller than 500 pixels.            </p>
            <p class="style1">3) The original FREALIGN integrates both alignment and reconstruction into a single executable file. In the current GPU version of FREALIGN, the two functions are separated and compiled into two separate executable files. The source codes are kept in two separate folders: src_ref and src_rec. Otherwise, the usage of the GPU-enabled FREALIGN is exactly same as the original FREALIGN.</p>
            <p class="style1"> 4) Because the multithread processing has been embedded, a single FREALIGN process will occupy all the available GPU resources in one computer. So each computer or cluster node can run only one FREALIGN job.</p>
            <p class="style1"> <strong>Configurations of our GPU computer systems:</strong></p>
            <p><span class="style1"><em><strong>Desktop computer</strong></em>:            <br>
              Motherboard: Asus P6TD Deluxe, Intel X58 chipset with 6 DIMMs (max 24GB)              <br>
              CPU: 		Intel Core i7 920 <br>
              RAM:		12GB DDR3-1333              <br>
              GPU: 		2 x Nvidia GTX 295 with 1792MB DDR3 (total 4 GPU processors)              <br>
              Video card:	1 x Nvidia GF 8400GS with 512MB PCI Video card (for display)            <br>
              HD (RAID5):	4 x Western Digital RE3 WD1002FBYS 1TB HDD            <br>
            HD (system):	1 x Western Digital Caviar Blue WD3200AAKS 320GB HDD   <br />         </span>
              <span class="style1">Operating system: Fedora Core 11<br>
              Vendor: <a href="http://www.xxera.com/">Xxera</a> (total cost is ~$4,000 in the fall of 2009). </span><br>
            </p>
            <p><img src="2GTX295s.jpg" alt="2gtx295s" width="500" height="410" /></p>
            <p><span class="style1"><em><strong>Cluster computer 1</strong></em> (Rackmount 4U): <br>
              Motherboard: Supermicro SuperServer 7046GT-TRF. Display is connected to the onboard VGA port.<br />            
              </span> 
                <span class="style1">CPU:		2 x Intel Xeon X5550            <br>
                RAM:		24GB DDR3-1333            <br>
            GPU:		4 x Nvidia GTX 295 with 1792MB DDR3 (total 8 GPU processors) <br />
            Operating system: Centos 5.3<br>
              Vendor: <a href="http://www.xxera.com/">Xxera</a> (total cost is ~$8,000 in the fall of 2009).</span></p>
            <p><img src="4GTX295s.jpg" alt="4gtx295s" width="500" height="334" /></p>
            <p class="style1"> <strong><em>Cluster computer 2 </em></strong>(Rockmount 2U + 2U)<br>
            Headnode:	Calfax CX2280-X3 2U Rackmount Server              <br>
            Motherboard: Asus DSEB-DG            <br />
            CPU:		Intel Xeon  Quad Core E5345 <br>
              RAM:		32GB DDR3 <br>
              GPU:		nVidia Tesla S1070-500 system (Total 4 Tesla GPU processors) <br />
          Operating system: Suse 2.6</p></td>
        </tr>
        <tr>
          <td class="subHeader" id="monthformat">&nbsp;<br /></td>
        </tr>
        <tr>
          <td class="bodyText" valign="top"><p>&nbsp;</p>            </td>
        </tr>
      </table>
	  &nbsp;<br />
    &nbsp;<br />	</td>
    <td width="112">&nbsp;</td>
  </tr>

 <tr>
    <td width="52">&nbsp;</td>
    <td width="547">&nbsp;</td>
    <td width="479">&nbsp;</td>
	<td width="112">&nbsp;</td>
  </tr>
</table>
</body>
</html>
